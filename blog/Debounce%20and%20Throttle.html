<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,500;0,700;1,700&display=swap"
      rel="stylesheet"
    />
    <title>Harry Chow Web</title>
    <script type="module" crossorigin src="/assets/index-DgGoiepB.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-8HZMd-9w.css">
  </head>
  <body>
    <div id="app"><div class="relative"><nav class="flex justify-between py-3 px-7 text-[#9BA4B5]"><a href="/">Harry Chow</a><ul class="flex gap-4"><li><a href="/blog"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-notepad-text "><path d="M8 2v4"></path><path d="M12 2v4"></path><path d="M16 2v4"></path><rect width="16" height="18" x="4" y="4" rx="2"></rect><path d="M8 10h6"></path><path d="M8 14h8"></path><path d="M8 18h5"></path></svg></a></li><li><a href="/project"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-folder "><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"></path></svg></a></li><a class="" href="https://github.com/momingse"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github "><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><a class="" href="https://www.linkedin.com/in/wang-hin-chow-5ab517271/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-linkedin "><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg></a></ul></nav><div class="py-3 px-6 md:py-9"><div class="w-full"><div class="m-auto flex justify-center"><div class="hidden lg:block mr-2 w-40"></div><div id="blog" class="max-w-[666px]"><h1>Debounce and Throttle</h1>
<h2 id=Debounce>Debounce</h2><p>Debounce is a technique to limit the rate at which a function can fire. When you debounce a function, you prevent it from being called again until a certain amount of time has passed since itypescript last call. You can use debounce to prevent a function from being called too many times in a row.</p>
<p>common approach in js:</p>
<pre><code class="language-js">function debounce(fn, delay) {
  let timer = null;
  return function () {
    let context = this;
    let args = argumentypescript;
    clearTimeout(timer);
    timer = setTimeout(function () {
      fn.apply(context, args);
    }, delay);
  };
}
</code></pre>
<p>common approach in react with useEffect and useState:</p>
<pre><code class="language-js">const Component = () =&gt; {
    const [value, setValue] = useState(&#39;&#39;);

    useEffect(() =&gt; {
        clearTimeout(handler);
        const handler = setTimeout(() =&gt; {
            # run after timeout
        }, 1000);

        return () =&gt; {
            clearTimeout(handler);
        };
    }, [value]);

    return (
        &lt;input
            type=&#39;text&#39;
            value={value}
            onChange={(e) =&gt; setValue(e.target.value)}
        /&gt;
    );
};
</code></pre>
<p>common approach in react with lodash:</p>
<pre><code class="language-js">import { debounce } from &quot;lodash&quot;;

const Component = () =&gt; {
  const debouncedSave = debounce((nextValue) =&gt; console.log(nextValue), 1000);

  return &lt;input type=&quot;text&quot; value={value} onChange={debouncedSave} /&gt;;
};
</code></pre>
<h2 id=Throttle>Throttle</h2><p>Throttling is a technique in which, no matter how many times the user fires the event, the attached function will be executed only once in a given time interval.</p>
<p>common approach in js:</p>
<pre><code class="language-js">function throttle(fn, delay) {
  let delayFlag = false;

  return function () {
    if (delayFlag) {
      return;
    }

    delayFlag = true;
    fn();
    setTimeout(() =&gt; {
      delayFlag = false;
    }, delay);
  };
}
</code></pre>
<p>common approach in react with useEffect and useState:</p>
<pre><code class="language-js">const Component = () =&gt; {
    const [flag, setFlag] = useState(false)

    const submit = () =&gt; {
        if (flag) return;
        setFlag(true)
        # run submit fn
        setTimeout(() =&gt; {
            setFlag(false)
        }, 1000)
    }

    return (
        &lt;button onClick={submit}&gt;
    )
}
</code></pre>
<p>common approach in react with lodash:</p>
<pre><code class="language-js">import { throttle } from &quot;lodash&quot;;

const Component = () =&gt; {
  const throttledSave = throttle((nextValue) =&gt; console.log(nextValue), 1000);

  return &lt;input type=&quot;text&quot; value={value} onChange={throttledSave} /&gt;;
};
</code></pre>
</div><div class="hidden lg:block ml-2 w-40 border-zinc-50"><div class="sticky top-10 text-sm text-zinc-600 flex"><div class="h-6 border border-sky-500 absolute" style="border-width:1px;top:0px;transition:top 0.2s"></div><div><div class="cursor-pointer pl-3 pb-1">Debounce</div><div class="cursor-pointer pl-3 pb-1">Throttle</div></div></div></div></div></div></div></div></div>
  </body>
</html>
